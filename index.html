<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'night-blue': '#1a1f3a',
                        'deep-blue': '#2d3561',
                        'accent-yellow': '#ffd700',
                        'soft-yellow': '#fff3a0',
                        'dark-gray': '#2a2a3e'
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');
        body { font-family: 'Cairo', sans-serif; }
        .task-card {
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        .task-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
        }
        .priority-high { border-right: 4px solid #ef4444; }
        .priority-medium { border-right: 4px solid #f59e0b; }
        .priority-low { border-right: 4px solid #10b981; }
        .completed { opacity: 0.7; }
        .stats-card {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(45, 53, 97, 0.3));
        }
        .add-btn {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            transition: all 0.3s ease;
        }
        .add-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.4);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-night-blue via-deep-blue to-dark-gray min-h-screen text-white">
    <!-- Header -->
    <header class="bg-gradient-to-r from-deep-blue to-night-blue shadow-2xl">
        <div class="container mx-auto px-6 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4 space-x-reverse">
                    <div class="w-12 h-12 bg-accent-yellow rounded-full flex items-center justify-center">
                        <span class="text-2xl">ğŸ“‹</span>
                    </div>
                    <div>
                        <h1 class="text-3xl font-bold text-accent-yellow">Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ</h1>
                        <p class="text-soft-yellow text-sm">Ù†Ø¸Ù… Ù…Ù‡Ø§Ù…Ùƒ Ø¨Ø°ÙƒØ§Ø¡ ÙˆÙƒÙØ§Ø¡Ø©</p>
                    </div>
                </div>
                <div class="text-right">
                    <div class="text-accent-yellow font-semibold" id="currentDate"></div>
                    <div class="text-soft-yellow text-sm" id="currentTime"></div>
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-6 py-8">
        <!-- Statistics Cards -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="stats-card rounded-xl p-6 text-center">
                <div class="text-3xl font-bold text-accent-yellow" id="totalTasks">0</div>
                <div class="text-soft-yellow">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù‡Ø§Ù…</div>
            </div>
            <div class="stats-card rounded-xl p-6 text-center">
                <div class="text-3xl font-bold text-green-400" id="completedTasks">0</div>
                <div class="text-soft-yellow">Ù…ÙƒØªÙ…Ù„Ø©</div>
            </div>
            <div class="stats-card rounded-xl p-6 text-center">
                <div class="text-3xl font-bold text-orange-400" id="pendingTasks">0</div>
                <div class="text-soft-yellow">Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°</div>
            </div>
            <div class="stats-card rounded-xl p-6 text-center">
                <div class="text-3xl font-bold text-red-400" id="highPriorityTasks">0</div>
                <div class="text-soft-yellow">Ø£ÙˆÙ„ÙˆÙŠØ© Ø¹Ø§Ù„ÙŠØ©</div>
            </div>
        </div>

        <!-- Add Task Form -->
        <div class="bg-gradient-to-r from-deep-blue to-dark-gray rounded-2xl p-8 mb-8 shadow-2xl">
            <h2 class="text-2xl font-bold text-accent-yellow mb-6 flex items-center">
                <span class="ml-3">â•</span>
                Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©
            </h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <div>
                        <label class="block text-soft-yellow font-semibold mb-2">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø© *</label>
                        <input type="text" id="taskTitle" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø©..." 
                               class="w-full px-4 py-3 bg-night-blue border border-deep-blue rounded-lg text-white placeholder-gray-400 focus:border-accent-yellow focus:outline-none transition-colors">
                    </div>
                    
                    <div>
                        <label class="block text-soft-yellow font-semibold mb-2">ÙˆØµÙ Ø§Ù„Ù…Ù‡Ù…Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                        <textarea id="taskDescription" placeholder="Ø£Ø¶Ù ÙˆØµÙØ§Ù‹ Ù„Ù„Ù…Ù‡Ù…Ø©..." rows="3"
                                  class="w-full px-4 py-3 bg-night-blue border border-deep-blue rounded-lg text-white placeholder-gray-400 focus:border-accent-yellow focus:outline-none transition-colors resize-none"></textarea>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-soft-yellow font-semibold mb-2">Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ù…Ù‡Ù…Ø©</label>
                        <select id="taskPriority" class="w-full px-4 py-3 bg-night-blue border border-deep-blue rounded-lg text-white focus:border-accent-yellow focus:outline-none transition-colors">
                            <option value="high">ğŸ”´ Ø¹Ø§Ù„ÙŠØ©</option>
                            <option value="medium" selected>ğŸŸ¡ Ù…ØªÙˆØ³Ø·Ø©</option>
                            <option value="low">ğŸŸ¢ Ù…Ù†Ø®ÙØ¶Ø©</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-soft-yellow font-semibold mb-2">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                        <input type="date" id="taskDueDate" 
                               class="w-full px-4 py-3 bg-night-blue border border-deep-blue rounded-lg text-white focus:border-accent-yellow focus:outline-none transition-colors">
                    </div>
                    
                    <button onclick="addTask()" class="add-btn w-full py-3 rounded-lg font-bold text-night-blue text-lg">
                        âœ¨ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø©
                    </button>
                </div>
            </div>
        </div>

        <!-- Filter and Search -->
        <div class="bg-gradient-to-r from-deep-blue to-dark-gray rounded-xl p-6 mb-8">
            <div class="flex flex-col md:flex-row gap-4 items-center">
                <div class="flex-1">
                    <input type="text" id="searchTasks" placeholder="ğŸ” Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù‡Ø§Ù…..." 
                           class="w-full px-4 py-2 bg-night-blue border border-deep-blue rounded-lg text-white placeholder-gray-400 focus:border-accent-yellow focus:outline-none transition-colors"
                           oninput="filterTasks()">
                </div>
                <div class="flex gap-2">
                    <button onclick="filterByStatus('all')" class="filter-btn px-4 py-2 rounded-lg bg-accent-yellow text-night-blue font-semibold active">Ø§Ù„ÙƒÙ„</button>
                    <button onclick="filterByStatus('pending')" class="filter-btn px-4 py-2 rounded-lg bg-deep-blue text-white font-semibold">Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°</button>
                    <button onclick="filterByStatus('completed')" class="filter-btn px-4 py-2 rounded-lg bg-deep-blue text-white font-semibold">Ù…ÙƒØªÙ…Ù„Ø©</button>
                </div>
            </div>
        </div>

        <!-- Tasks List -->
        <div class="space-y-4" id="tasksList">
            <!-- Tasks will be dynamically added here -->
        </div>

        <!-- Empty State -->
        <div id="emptyState" class="text-center py-16 hidden">
            <div class="text-8xl mb-4">ğŸ“</div>
            <h3 class="text-2xl font-bold text-accent-yellow mb-2">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… Ø­Ø§Ù„ÙŠØ§Ù‹</h3>
            <p class="text-soft-yellow">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„ØªÙ†Ø¸ÙŠÙ… ÙŠÙˆÙ…Ùƒ!</p>
        </div>
    </div>

    <script>
        let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
        let currentFilter = 'all';

        // Update time and date
        function updateDateTime() {
            const now = new Date();
            const dateOptions = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            const timeOptions = { 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit' 
            };
            
            document.getElementById('currentDate').textContent = now.toLocaleDateString('ar-SA', dateOptions);
            document.getElementById('currentTime').textContent = now.toLocaleTimeString('ar-SA', timeOptions);
        }

        // Add new task
        function addTask() {
            const title = document.getElementById('taskTitle').value.trim();
            const description = document.getElementById('taskDescription').value.trim();
            const priority = document.getElementById('taskPriority').value;
            const dueDate = document.getElementById('taskDueDate').value;

            if (!title) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø©');
                return;
            }

            const task = {
                id: Date.now(),
                title,
                description,
                priority,
                dueDate,
                status: 'pending',
                createdAt: new Date().toISOString(),
                completedAt: null
            };

            tasks.unshift(task);
            saveTasks();
            renderTasks();
            updateStats();
            clearForm();
        }

        // Clear form
        function clearForm() {
            document.getElementById('taskTitle').value = '';
            document.getElementById('taskDescription').value = '';
            document.getElementById('taskPriority').value = 'medium';
            document.getElementById('taskDueDate').value = '';
        }

        // Toggle task completion
        function toggleTask(id) {
            const task = tasks.find(t => t.id === id);
            if (task) {
                task.status = task.status === 'completed' ? 'pending' : 'completed';
                task.completedAt = task.status === 'completed' ? new Date().toISOString() : null;
                saveTasks();
                renderTasks();
                updateStats();
            }
        }

        // Delete task
        function deleteTask(id) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‡Ù…Ø©ØŸ')) {
                tasks = tasks.filter(t => t.id !== id);
                saveTasks();
                renderTasks();
                updateStats();
            }
        }

        // Edit task
        function editTask(id) {
            const task = tasks.find(t => t.id === id);
            if (task) {
                const newTitle = prompt('ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‡Ù…Ø©:', task.title);
                if (newTitle && newTitle.trim()) {
                    task.title = newTitle.trim();
                    saveTasks();
                    renderTasks();
                }
            }
        }

        // Filter tasks by status
        function filterByStatus(status) {
            currentFilter = status;
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-accent-yellow', 'text-night-blue');
                btn.classList.add('bg-deep-blue', 'text-white');
            });
            event.target.classList.add('active', 'bg-accent-yellow', 'text-night-blue');
            event.target.classList.remove('bg-deep-blue', 'text-white');
            renderTasks();
        }

        // Filter tasks by search
        function filterTasks() {
            renderTasks();
        }

        // Render tasks
        function renderTasks() {
            const searchTerm = document.getElementById('searchTasks').value.toLowerCase();
            let filteredTasks = tasks;

            // Filter by status
            if (currentFilter !== 'all') {
                filteredTasks = filteredTasks.filter(task => task.status === currentFilter);
            }

            // Filter by search term
            if (searchTerm) {
                filteredTasks = filteredTasks.filter(task => 
                    task.title.toLowerCase().includes(searchTerm) ||
                    task.description.toLowerCase().includes(searchTerm)
                );
            }

            const tasksList = document.getElementById('tasksList');
            const emptyState = document.getElementById('emptyState');

            if (filteredTasks.length === 0) {
                tasksList.innerHTML = '';
                emptyState.classList.remove('hidden');
                return;
            }

            emptyState.classList.add('hidden');
            
            tasksList.innerHTML = filteredTasks.map(task => {
                const priorityClass = `priority-${task.priority}`;
                const statusClass = task.status === 'completed' ? 'completed' : '';
                const priorityEmoji = task.priority === 'high' ? 'ğŸ”´' : task.priority === 'medium' ? 'ğŸŸ¡' : 'ğŸŸ¢';
                const dueDateText = task.dueDate ? new Date(task.dueDate).toLocaleDateString('ar-SA') : '';
                const isOverdue = task.dueDate && new Date(task.dueDate) < new Date() && task.status !== 'completed';

                return `
                    <div class="task-card ${priorityClass} ${statusClass} bg-gradient-to-r from-deep-blue to-dark-gray rounded-xl p-6 shadow-lg">
                        <div class="flex items-start justify-between">
                            <div class="flex-1">
                                <div class="flex items-center gap-3 mb-2">
                                    <span class="text-lg">${priorityEmoji}</span>
                                    <h3 class="text-xl font-bold text-white ${task.status === 'completed' ? 'line-through' : ''}">${task.title}</h3>
                                    ${isOverdue ? '<span class="bg-red-500 text-white px-2 py-1 rounded-full text-xs">Ù…ØªØ£Ø®Ø±</span>' : ''}
                                </div>
                                
                                ${task.description ? `<p class="text-soft-yellow mb-3">${task.description}</p>` : ''}
                                
                                <div class="flex items-center gap-4 text-sm text-gray-300">
                                    <span>ğŸ“… ${new Date(task.createdAt).toLocaleDateString('ar-SA')}</span>
                                    ${dueDateText ? `<span>â° ${dueDateText}</span>` : ''}
                                    ${task.completedAt ? `<span class="text-green-400">âœ… ${new Date(task.completedAt).toLocaleDateString('ar-SA')}</span>` : ''}
                                </div>
                            </div>
                            
                            <div class="flex gap-2 mr-4">
                                <button onclick="toggleTask(${task.id})" 
                                        class="px-4 py-2 rounded-lg font-semibold transition-all ${task.status === 'completed' ? 'bg-orange-500 hover:bg-orange-600 text-white' : 'bg-green-500 hover:bg-green-600 text-white'}">
                                    ${task.status === 'completed' ? 'â†©ï¸ Ø¥Ù„ØºØ§Ø¡' : 'âœ… ØªÙ…'}
                                </button>
                                <button onclick="editTask(${task.id})" 
                                        class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-semibold transition-all">
                                    âœï¸ ØªØ¹Ø¯ÙŠÙ„
                                </button>
                                <button onclick="deleteTask(${task.id})" 
                                        class="px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-semibold transition-all">
                                    ğŸ—‘ï¸ Ø­Ø°Ù
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Update statistics
        function updateStats() {
            const total = tasks.length;
            const completed = tasks.filter(t => t.status === 'completed').length;
            const pending = tasks.filter(t => t.status === 'pending').length;
            const highPriority = tasks.filter(t => t.priority === 'high' && t.status !== 'completed').length;

            document.getElementById('totalTasks').textContent = total;
            document.getElementById('completedTasks').textContent = completed;
            document.getElementById('pendingTasks').textContent = pending;
            document.getElementById('highPriorityTasks').textContent = highPriority;
        }

        // Save tasks to localStorage
        function saveTasks() {
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }

        // Initialize app
        function init() {
            updateDateTime();
            setInterval(updateDateTime, 1000);
            renderTasks();
            updateStats();
        }

        // Handle Enter key in task title
        document.getElementById('taskTitle').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addTask();
            }
        });

        // Initialize when page loads
        init();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9802fb114195d0ff',t:'MTc1ODA1MzE0OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
